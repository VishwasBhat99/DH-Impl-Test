use rbdate::date_from_timestamp;
use stamp_ftp::account_with_cashflows::AccountWithCashflows;

pub fn get_output_string(cf_data: &AccountWithCashflows) -> String {
    format!(
        "{}|{}|{}|{:.4}|{:.4}|{:.4}|{:.4}|{:.4}|{}|{}|\
         {}|{}|{}|{}|{}|{}|{}|{}|{}|{}|\
         {}|{}|{:.4}|{}|{:.4}|{:.4}|{:.4}|{:.4}|{:.4}|{:.4}|\
         {:.4}|{:.4}|{:.4}|{:.4}|{:.4}|{}|{}|{}|{}|{}|\
         {}|{}|{}|{}|{:.4}|{:.4}|{}|{}|{}|{}|{}|{}|{}|{}|{}|{}|{}|{}|{}|{}\n",
        date_from_timestamp(cf_data.as_on_month).format("%d-%m-%Y"),
        cf_data.account_id,
        cf_data.currency,
        cf_data.balance_ccy,
        cf_data.balance_hcy,
        cf_data.int_rate,
        cf_data.int_amt_ccy,
        cf_data.int_amt_hcy,
        cf_data.ftp_method,
        cf_data.base_rate_curve_id,
        cf_data.rate_flag,
        cf_data.adj_code_1,
        cf_data.adj_code_2,
        cf_data.adj_code_3,
        cf_data.adj_code_4,
        cf_data.adj_code_5,
        cf_data.adj_code_6,
        date_from_timestamp(cf_data.val_dt).format("%d-%m-%Y"),
        date_from_timestamp(cf_data.open_dt).format("%d-%m-%Y"),
        date_from_timestamp(cf_data.mat_dt).format("%d-%m-%Y"),
        date_from_timestamp(cf_data.lst_repricing_dt).format("%d-%m-%Y"),
        cf_data.rep_freq,
        cf_data.cust_agg_bal,
        cf_data.day_count_basis,
        cf_data.base_rate,
        cf_data.adj_rate_1,
        cf_data.adj_rate_2,
        cf_data.adj_rate_3,
        cf_data.adj_rate_4,
        cf_data.adj_rate_5,
        cf_data.adj_rate_6,
        cf_data.ftp_rate,
        cf_data.lock_spread,
        cf_data.ftp_amt_ccy,
        cf_data.ftp_amt_hcy,
        cf_data.a_or_l,
        cf_data.dim1,
        cf_data.dim2,
        cf_data.dim3,
        cf_data.dim4,
        cf_data.customer_id,
        cf_data.rl1,
        cf_data.rl2,
        cf_data.rl3,
        cf_data.ftp_rate,
        cf_data.lock_spread,
        date_from_timestamp(cf_data.bc_as_on_rule).format("%d-%m-%Y"),
        date_from_timestamp(cf_data.tenor_start_date_rule).format("%d-%m-%Y"),
        date_from_timestamp(cf_data.tenor_end_date_rule).format("%d-%m-%Y"),
        date_from_timestamp(cf_data.bc_as_on_applied).format("%d-%m-%Y"),
        date_from_timestamp(cf_data.tenor_start_date_applied).format("%d-%m-%Y"),
        date_from_timestamp(cf_data.tenor_end_date_applied).format("%d-%m-%Y"),
        cf_data.gl_code,
        cf_data.prod_code,
        cf_data.div_code,
        cf_data.mis_code_1,
        cf_data.mis_code_2,
        cf_data.mis_code_3,
        cf_data.eop_balance_ccy,
        cf_data.eop_balance_hcy,
    )
}
